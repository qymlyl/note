<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-rCore-Tutorial-Book学习/ch1-setup-os-devel-env" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">ch1-搭建OS实验环境 | qymlyl note</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://qymlyl.github.io/note/zh-Hans/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://qymlyl.github.io/note/zh-Hans/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://qymlyl.github.io/note/zh-Hans/rCore-Tutorial-Book学习/ch1-setup-os-devel-env"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ch1-搭建OS实验环境 | qymlyl note"><meta data-rh="true" name="description" content="前提: 已经安装好rust，可以查看macOS安装Rust"><meta data-rh="true" property="og:description" content="前提: 已经安装好rust，可以查看macOS安装Rust"><link data-rh="true" rel="icon" href="/note/zh-Hans/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://qymlyl.github.io/note/zh-Hans/rCore-Tutorial-Book学习/ch1-setup-os-devel-env"><link data-rh="true" rel="alternate" href="https://qymlyl.github.io/note/rCore-Tutorial-Book学习/ch1-setup-os-devel-env" hreflang="en"><link data-rh="true" rel="alternate" href="https://qymlyl.github.io/note/zh-Hans/rCore-Tutorial-Book学习/ch1-setup-os-devel-env" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://qymlyl.github.io/note/rCore-Tutorial-Book学习/ch1-setup-os-devel-env" hreflang="x-default"><link rel="stylesheet" href="/note/zh-Hans/assets/css/styles.75314c4a.css">
<link rel="preload" href="/note/zh-Hans/assets/js/runtime~main.c7f22df7.js" as="script">
<link rel="preload" href="/note/zh-Hans/assets/js/main.534dafd7.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/note/zh-Hans/"><div class="navbar__logo"><img src="/note/zh-Hans/img/logo.svg" alt="qymlyl note Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/note/zh-Hans/img/logo.svg" alt="qymlyl note Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">qymlyl note</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/note/zh-Hans/home">首页</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/note/zh-Hans/tools/ubuntu-usage">工具</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/note/zh-Hans/ethereum/whitepaper">以太坊</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/note/zh-Hans/risc-v/ubuntu-install-riscv-gnu-toolchain">risc-v</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/note/zh-Hans/rust/little-tools">Rust</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/note/zh-Hans/rCore-Tutorial-Book学习/ch1-setup-os-devel-env">rCore-Tutorial-Book学习</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/note/zh-Hans/rCore-Tutorial-Book学习/ch1-setup-os-devel-env">ch1-搭建OS实验环境</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/note/zh-Hans/rCore-Tutorial-Book学习/ch1-memory-layout-and-linker">ch1-程序内存布局与链接器</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/note/zh-Hans/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">rCore-Tutorial-Book学习</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">ch1-搭建OS实验环境</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>ch1-搭建OS实验环境</h1></header><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_S0QG"><p>前提: 已经安装好rust，可以查看<a href="https://qymlyl.github.io/note/tools/mac-install-rust" target="_blank" rel="noopener noreferrer">macOS安装Rust</a></p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mac安装qemu默认新版v8">Mac安装QEMU(默认新版v8)<a href="#mac安装qemu默认新版v8" class="hash-link" aria-label="Mac安装QEMU(默认新版v8)的直接链接" title="Mac安装QEMU(默认新版v8)的直接链接">​</a></h2><p>使用brew直接安装qemu，<a href="https://www.qemu.org/download/#macos" target="_blank" rel="noopener noreferrer">官方下载页面</a></p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ brew </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> qemu</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>安装完成之后，控制台输入<code>qemu-</code>按<code>tab</code>键尝试补全命令可以看到如下：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ qemu-</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">qemu-edid                 qemu-system-avr           qemu-system-mips          qemu-system-riscv32       qemu-system-tricore     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">qemu-img                  qemu-system-cris          qemu-system-mips64        qemu-system-riscv64       qemu-system-x86_64      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">qemu-io                   qemu-system-hppa          qemu-system-mips64el      qemu-system-rx            qemu-system-xtensa      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">qemu-nbd                  qemu-system-i386          qemu-system-mipsel        qemu-system-s390x         qemu-system-xtensaeb    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">qemu-storage-daemon       qemu-system-loongarch64   qemu-system-nios2         qemu-system-sh4                                   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">qemu-system-aarch64       qemu-system-m68k          qemu-system-or1k          qemu-system-sh4eb                                 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">qemu-system-alpha         qemu-system-microblaze    qemu-system-ppc           qemu-system-sparc                                 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">qemu-system-arm           qemu-system-microblazeel  qemu-system-ppc64         qemu-system-sparc64</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>默认安装的新版本，并且将所支持的平台都安装了，注意：Qemu在Mac只支持<code>system mode</code>不支持<code>user mode</code>，即只能使用<code> qemu-system-riscv64</code>、<code> qemu-system-riscv32</code>无法使用<code> qemu-riscv64</code>、<code> qemu-riscv32</code>，<code>linux</code>下支持<code>user mode</code></p><p>查看<code>qemu</code>版本</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ qemu-system-riscv64 --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">QEMU emulator version </span><span class="token number" style="color:#36acaa">8.0</span><span class="token plain">.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Copyright </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2003</span><span class="token plain">-2022 Fabrice Bellard and the QEMU Project developers</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ubuntu安装qremu版本较老v6">Ubuntu安装QREMU(版本较老v6)<a href="#ubuntu安装qremu版本较老v6" class="hash-link" aria-label="Ubuntu安装QREMU(版本较老v6)的直接链接" title="Ubuntu安装QREMU(版本较老v6)的直接链接">​</a></h2><p><a href="https://www.qemu.org/download/#linux" target="_blank" rel="noopener noreferrer">官方下载页面</a>, 下载的版本较老，v6版本</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 下载system mode程序</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> qemu-system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 下载user mode程序</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> qemu-user-static</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>查看版本</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ qemu-system-riscv64 --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">QEMU emulator version </span><span class="token number" style="color:#36acaa">6.2</span><span class="token plain">.0 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Debian </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">:6.2+dfsg-2ubuntu6.15</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Copyright </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2003</span><span class="token plain">-2021 Fabrice Bellard and the QEMU Project developers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ qemu-riscv64-static --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">qemu-riscv64 version </span><span class="token number" style="color:#36acaa">6.2</span><span class="token plain">.0 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Debian </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">:6.2+dfsg-2ubuntu6.15</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Copyright </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2003</span><span class="token plain">-2021 Fabrice Bellard and the QEMU Project developers</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="手动安装qemuv7版本">手动安装QEMUV7版本<a href="#手动安装qemuv7版本" class="hash-link" aria-label="手动安装QEMUV7版本的直接链接" title="手动安装QEMUV7版本的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="卸载已安装的qemu">卸载已安装的qemu<a href="#卸载已安装的qemu" class="hash-link" aria-label="卸载已安装的qemu的直接链接" title="卸载已安装的qemu的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="macos">MacOs<a href="#macos" class="hash-link" aria-label="MacOs的直接链接" title="MacOs的直接链接">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">brew uninstall --force qemu</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ubuntu">Ubuntu<a href="#ubuntu" class="hash-link" aria-label="Ubuntu的直接链接" title="Ubuntu的直接链接">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> remove qemu-system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> remove qemu-user-static</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="安装编译qemu所需的依赖项">安装编译QEMU所需的依赖项<a href="#安装编译qemu所需的依赖项" class="hash-link" aria-label="安装编译QEMU所需的依赖项的直接链接" title="安装编译QEMU所需的依赖项的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="macos-1">macOs<a href="#macos-1" class="hash-link" aria-label="macOs的直接链接" title="macOs的直接链接">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">brew </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> automake autoconf libtool glib pkg-config ninja</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ubuntu-1">Ubuntu<a href="#ubuntu-1" class="hash-link" aria-label="Ubuntu的直接链接" title="Ubuntu的直接链接">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -y autoconf automake autotools-dev </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> libmpc-dev libmpfr-dev libgmp-dev </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token function" style="color:#d73a49">gawk</span><span class="token plain"> build-essential bison flex texinfo gperf libtool patchutils </span><span class="token function" style="color:#d73a49">bc</span><span class="token plain"> ninja-build </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              zlib1g-dev libexpat-dev pkg-config  libglib2.0-dev libpixman-1-dev </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> tmux python3  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="下载源码包并解压">下载源码包并解压<a href="#下载源码包并解压" class="hash-link" aria-label="下载源码包并解压的直接链接" title="下载源码包并解压的直接链接">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://download.qemu.org/qemu-7.0.0.tar.xz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 解压</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> xvJf qemu-7.0.0.tar.xz</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="配置编译qemu">配置编译QEMU<a href="#配置编译qemu" class="hash-link" aria-label="配置编译QEMU的直接链接" title="配置编译QEMU的直接链接">​</a></h3><p>配置QEMU的编译选项</p><p> <code>--prefix</code>指定安装路径，<code>--target-list</code>指定要安装的平台，不指定<code>--target-list</code>默认安装所有平台，</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># macOs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./configure --prefix</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">xxx要安装的路径 --target-list</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">riscv64-softmmu,riscv32-softmmu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ubuntu</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./configure --prefix</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/home/ubuntu/opt/Riscv/qemu --target-list</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">riscv64-linux-user,riscv32-linux-user,riscv64-softmmu,riscv32-softmmu</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>riscv64-softmmu</code>： <code>system mode</code>对应<code>qemu-system-riscv64</code></li><li><code>riscv32-softmmu</code>：<code>system mode</code>对应<code>qemu-system-riscv32</code></li><li><code>riscv64-linux-user</code>：<code>user mode</code>对应<code>qemu-riscv64</code> (macOs不支持)</li><li><code>riscv32-linux-user</code>：<code>user mode</code>对应<code>qemu-riscv32</code> ` (macOs不支持)</li></ul><p>注：<code>MacOs</code>不支持<code>riscv64-linux-user</code>和<code>riscv32-linux-user</code></p><p>编译并安装QEMU：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">make</span><span class="token plain"> -j</span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable" style="color:#36acaa">nproc</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">make</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>配置环境变量</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;export QEMU=/home/ubuntu/opt/Riscv/qemu&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> ~/.bashrc </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;export PATH=$QEMU/bin:$PATH&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> ~/.bashrc </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">source</span><span class="token plain"> ~/.bashrc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>验证安装：运行以下命令来验证QEMU是否正确安装</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ qemu-system-riscv64 --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">QEMU emulator version </span><span class="token number" style="color:#36acaa">7.0</span><span class="token plain">.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Copyright </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2003</span><span class="token plain">-2022 Fabrice Bellard and the QEMU Project developers</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ qemu-riscv64 --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">qemu-riscv64 version </span><span class="token number" style="color:#36acaa">7.0</span><span class="token plain">.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Copyright </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2003</span><span class="token plain">-2022 Fabrice Bellard and the QEMU Project developers</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="拉取rcore-tutorial仓库并运行os">拉取rCore-Tutorial仓库并运行OS<a href="#拉取rcore-tutorial仓库并运行os" class="hash-link" aria-label="拉取rCore-Tutorial仓库并运行OS的直接链接" title="拉取rCore-Tutorial仓库并运行OS的直接链接">​</a></h2><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># clone 仓库</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/LearningOS/rCore-Tutorial-Code-2023A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> rCore-Tutorial-Code-2023A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ch1中有一个可运行的hello world程序</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> checkout ch1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="qemuv8替换rustsbi">QemuV8替换RustSBI<a href="#qemuv8替换rustsbi" class="hash-link" aria-label="QemuV8替换RustSBI的直接链接" title="QemuV8替换RustSBI的直接链接">​</a></h3><p><a href="http://learningos.cn/rCore-Tutorial-Guide-2023A/0setup-devel-env.html" target="_blank" rel="noopener noreferrer">rCore-Tutorial-Book</a>中有说明，如果使用的是Qemu8需要使用新<a href="https://github.com/rustsbi/rustsbi-qemu/releases" target="_blank" rel="noopener noreferrer">RustSBI</a></p><p>下载最新版<a href="https://github.com/rustsbi/rustsbi-qemu/releases/tag/Unreleased" target="_blank" rel="noopener noreferrer">RustSBI Prereleased 2023-10-27</a>后复制到 <code>bootloader</code>目录下替换同名的<code>rustsbi-qemu.bin</code> 即可，即<code>rCore-Tutorial-Code-2023A/bootloader/rustsbi-qemu.bin</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="运行os">运行os<a href="#运行os" class="hash-link" aria-label="运行os的直接链接" title="运行os的直接链接">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">LOG</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">DEBUG </span><span class="token function" style="color:#d73a49">make</span><span class="token plain"> run</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>结果如下：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rustup target list </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;riscv64gc-unknown-none-elf (installed)&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> rustup target </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> riscv64gc-unknown-none-elf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">riscv64gc-unknown-none-elf </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">installed</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> cargo-binutils</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Updating crates.io index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     Ignored package </span><span class="token variable" style="color:#36acaa">`</span><span class="token variable" style="color:#36acaa">cargo-binutils v0.3.6</span><span class="token variable" style="color:#36acaa">`</span><span class="token plain"> is already installed, use --force to override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup component </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> rust-src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">info: component </span><span class="token string" style="color:#e3116c">&#x27;rust-src&#x27;</span><span class="token plain"> is up to </span><span class="token function" style="color:#d73a49">date</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup component </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> llvm-tools-preview</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">info: component </span><span class="token string" style="color:#e3116c">&#x27;llvm-tools&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> target </span><span class="token string" style="color:#e3116c">&#x27;x86_64-unknown-linux-gnu&#x27;</span><span class="token plain"> is up to </span><span class="token function" style="color:#d73a49">date</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Platform: qemu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Finished release </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">optimized + debuginfo</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> target</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">.00s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">rustsbi</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> RustSBI version </span><span class="token number" style="color:#36acaa">0.3</span><span class="token plain">.0-alpha.4, adapting to RISC-V SBI v1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.______       __    __      _______.___________.  _______</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">______   __</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   _  </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">    /       </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">           </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> /       </span><span class="token operator" style="color:#393A34">||</span><span class="token plain">   _  </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">----</span><span class="token variable" style="color:#36acaa">`</span><span class="token variable" style="color:#36acaa">---</span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa">  </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa">----</span><span class="token variable" style="color:#36acaa">`</span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">----</span><span class="token variable" style="color:#36acaa">`</span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa">  </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa">_</span><span class="token variable punctuation" style="color:#393A34">)</span><span class="token variable" style="color:#36acaa">  </span><span class="token variable operator" style="color:#393A34">||</span><span class="token variable" style="color:#36acaa">  </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa"></span><br></span><span class="token-line" style="color:#393A34"><span class="token variable" style="color:#36acaa"></span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa">      /     </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa">  </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa">  </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa">  </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa">    </span><span class="token variable punctuation" style="color:#393A34">\</span><span class="token variable" style="color:#36acaa">   </span><span class="token variable punctuation" style="color:#393A34">\</span><span class="token variable" style="color:#36acaa">       </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa">  </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa">      </span><span class="token variable punctuation" style="color:#393A34">\</span><span class="token variable" style="color:#36acaa">   </span><span class="token variable punctuation" style="color:#393A34">\</span><span class="token variable" style="color:#36acaa">    </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa">   _  </span><span class="token variable operator" style="color:#393A34">&lt;</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa">  </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa"></span><br></span><span class="token-line" style="color:#393A34"><span class="token variable" style="color:#36acaa"></span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa">  </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable punctuation" style="color:#393A34">\</span><span class="token variable" style="color:#36acaa">  </span><span class="token variable punctuation" style="color:#393A34">\</span><span class="token variable" style="color:#36acaa">----.</span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa">  </span><span class="token variable" style="color:#36acaa">`</span><span class="token plain">--&#x27;  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">.----</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">      </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  .----</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">||</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> _</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> `._____</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">______/ </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_______/       </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">__</span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_______/    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">______/ </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">__</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">rustsbi</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Implementation     </span><span class="token builtin class-name">:</span><span class="token plain"> RustSBI-QEMU Version </span><span class="token number" style="color:#36acaa">0.2</span><span class="token plain">.0-alpha.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">rustsbi</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Platform Name      </span><span class="token builtin class-name">:</span><span class="token plain"> riscv-virtio,qemu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">rustsbi</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Platform SMP       </span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">rustsbi</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Platform Memory    </span><span class="token builtin class-name">:</span><span class="token plain"> 0x80000000</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">0x88000000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">rustsbi</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Boot HART          </span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">rustsbi</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Device Tree Region </span><span class="token builtin class-name">:</span><span class="token plain"> 0x87000000</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">0x87000ef2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">rustsbi</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Firmware Address   </span><span class="token builtin class-name">:</span><span class="token plain"> 0x80000000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">rustsbi</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Supervisor Address </span><span class="token builtin class-name">:</span><span class="token plain"> 0x80200000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">rustsbi</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> pmp01: 0x00000000</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">0x80000000 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">-wr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">rustsbi</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> pmp02: 0x80000000</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">0x80200000 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">---</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">rustsbi</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> pmp03: 0x80200000</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">0x88000000 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">xwr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">rustsbi</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> pmp04: 0x88000000</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">0x00000000 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">-wr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">kernel</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Hello, world</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">DEBUG</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">kernel</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> .rodata </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0x80202000, 0x80203000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> INFO</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">kernel</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> .data </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0x80203000, 0x80204000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> WARN</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">kernel</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> boot_stack </span><span class="token assign-left variable" style="color:#36acaa">top</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">bottom</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">0x80214000, </span><span class="token assign-left variable" style="color:#36acaa">lower_bound</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">0x80204000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ERROR</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">kernel</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> .bss </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0x80214000, 0x80215000</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>需要强制结束Qemu，可以先按下 <code>Ctrl+A</code> ，再按下 <code>X</code> 来退出 Qemu。</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/note/zh-Hans/rust/little-tools"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">小工具</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/note/zh-Hans/rCore-Tutorial-Book学习/ch1-memory-layout-and-linker"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">ch1-程序内存布局与链接器</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#mac安装qemu默认新版v8" class="table-of-contents__link toc-highlight">Mac安装QEMU(默认新版v8)</a></li><li><a href="#ubuntu安装qremu版本较老v6" class="table-of-contents__link toc-highlight">Ubuntu安装QREMU(版本较老v6)</a></li><li><a href="#手动安装qemuv7版本" class="table-of-contents__link toc-highlight">手动安装QEMUV7版本</a><ul><li><a href="#卸载已安装的qemu" class="table-of-contents__link toc-highlight">卸载已安装的qemu</a></li><li><a href="#安装编译qemu所需的依赖项" class="table-of-contents__link toc-highlight">安装编译QEMU所需的依赖项</a></li><li><a href="#下载源码包并解压" class="table-of-contents__link toc-highlight">下载源码包并解压</a></li><li><a href="#配置编译qemu" class="table-of-contents__link toc-highlight">配置编译QEMU</a></li></ul></li><li><a href="#拉取rcore-tutorial仓库并运行os" class="table-of-contents__link toc-highlight">拉取rCore-Tutorial仓库并运行OS</a><ul><li><a href="#qemuv8替换rustsbi" class="table-of-contents__link toc-highlight">QemuV8替换RustSBI</a></li><li><a href="#运行os" class="table-of-contents__link toc-highlight">运行os</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 qymlyl note</div></div></div></footer></div>
<script src="/note/zh-Hans/assets/js/runtime~main.c7f22df7.js"></script>
<script src="/note/zh-Hans/assets/js/main.534dafd7.js"></script>
</body>
</html>