"use strict";(self.webpackChunkstudy_note=self.webpackChunkstudy_note||[]).push([[58],{3905:(e,t,l)=>{l.d(t,{Zo:()=>k,kt:()=>d});var r=l(7294);function o(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function n(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,r)}return l}function a(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?n(Object(l),!0).forEach((function(t){o(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):n(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}function i(e,t){if(null==e)return{};var l,r,o=function(e,t){if(null==e)return{};var l,r,o={},n=Object.keys(e);for(r=0;r<n.length;r++)l=n[r],t.indexOf(l)>=0||(o[l]=e[l]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)l=n[r],t.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(o[l]=e[l])}return o}var p=r.createContext({}),c=function(e){var t=r.useContext(p),l=t;return e&&(l="function"==typeof e?e(t):a(a({},t),e)),l},k=function(e){var t=c(e.components);return r.createElement(p.Provider,{value:t},e.children)},g="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},s=r.forwardRef((function(e,t){var l=e.components,o=e.mdxType,n=e.originalType,p=e.parentName,k=i(e,["components","mdxType","originalType","parentName"]),g=c(l),s=o,d=g["".concat(p,".").concat(s)]||g[s]||u[s]||n;return l?r.createElement(d,a(a({ref:t},k),{},{components:l})):r.createElement(d,a({ref:t},k))}));function d(e,t){var l=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var n=l.length,a=new Array(n);a[0]=s;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[g]="string"==typeof e?e:o,a[1]=i;for(var c=2;c<n;c++)a[c]=l[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,l)}s.displayName="MDXCreateElement"},3614:(e,t,l)=>{l.r(t),l.d(t,{assets:()=>p,contentTitle:()=>a,default:()=>u,frontMatter:()=>n,metadata:()=>i,toc:()=>c});var r=l(7462),o=(l(7294),l(3905));const n={id:"polygon_zkevm_architecture",title:"Polygon\u6574\u4f53\u67b6\u6784\u548c\u4e3b\u8981\u6d41\u7a0b"},a="Polygon zkevm \u67b6\u6784\u8c03\u7814",i={unversionedId:"layer2/polygon_zkevm_architecture",id:"layer2/polygon_zkevm_architecture",title:"Polygon\u6574\u4f53\u67b6\u6784\u548c\u4e3b\u8981\u6d41\u7a0b",description:"\u6982\u8ff0",source:"@site/docs/layer2/polygon_zkevm_architecture.md",sourceDirName:"layer2",slug:"/layer2/polygon_zkevm_architecture",permalink:"/note/layer2/polygon_zkevm_architecture",draft:!1,tags:[],version:"current",frontMatter:{id:"polygon_zkevm_architecture",title:"Polygon\u6574\u4f53\u67b6\u6784\u548c\u4e3b\u8981\u6d41\u7a0b"},sidebar:"tutorialSidebar",previous:{title:"Scroll\u6574\u4f53\u67b6\u6784\u548c\u4e3b\u8981\u6d41\u7a0b",permalink:"/note/layer2/scroll_architecture"},next:{title:"\u4e86\u89e3\u96f6\u77e5\u8bc6\u8bc1\u660e\u5386\u53f2(\u8f6c\u8f7d)",permalink:"/note/zkp_study/zkp_history"}},p={},c=[{value:"\u6982\u8ff0",id:"\u6982\u8ff0",level:2},{value:"Polygon zkEVM\u6574\u4f53\u67b6\u6784",id:"polygon-zkevm\u6574\u4f53\u67b6\u6784",level:2},{value:"zkNode",id:"zknode",level:2},{value:"zkNode\u67b6\u6784",id:"zknode\u67b6\u6784",level:3},{value:"zkNode\u4e2d\u7684\u89d2\u8272",id:"zknode\u4e2d\u7684\u89d2\u8272",level:3},{value:"RPC endpoints",id:"rpc-endpoints",level:4},{value:"Trusted sequencer",id:"trusted-sequencer",level:4},{value:"Aggregator",id:"aggregator",level:4},{value:"\u7591\u95ee",id:"\u7591\u95ee",level:3},{value:"Aggregator\u600e\u4e48\u83b7\u53d6batches",id:"aggregator\u600e\u4e48\u83b7\u53d6batches",level:4},{value:"\u4ea4\u6613\u6d41\u7a0b",id:"\u4ea4\u6613\u6d41\u7a0b",level:3},{value:"Sequencer\u5c06\u4ea4\u6613\u63d0\u4ea4\u5230L1",id:"sequencer\u5c06\u4ea4\u6613\u63d0\u4ea4\u5230l1",level:4},{value:"Aggregator\u751f\u6210validity proof",id:"aggregator\u751f\u6210validity-proof",level:4},{value:"Aggregator\u63d0\u4ea4\u805a\u5408\u8bc1\u660e\u5230L1",id:"aggregator\u63d0\u4ea4\u805a\u5408\u8bc1\u660e\u5230l1",level:4},{value:"\u4e09\u79cdFinality",id:"\u4e09\u79cdfinality",level:3},{value:"\u8de8\u94fe",id:"\u8de8\u94fe",level:2},{value:"L1---&gt;L2",id:"l1---l2",level:3},{value:"POE(Proof-0f-Efficiency)",id:"poeproof-0f-efficiency",level:2},{value:"\u6fc0\u52b1\u673a\u5236",id:"\u6fc0\u52b1\u673a\u5236",level:2},{value:"\u7591\u95ee\uff1a",id:"\u7591\u95ee-1",level:2},{value:"\u53c2\u8003",id:"\u53c2\u8003",level:2}],k={toc:c},g="wrapper";function u(e){let{components:t,...n}=e;return(0,o.kt)(g,(0,r.Z)({},k,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"polygon-zkevm-\u67b6\u6784\u8c03\u7814"},"Polygon zkevm \u67b6\u6784\u8c03\u7814"),(0,o.kt)("h2",{id:"\u6982\u8ff0"},"\u6982\u8ff0"),(0,o.kt)("p",null,"\u5b98\u7f51\uff1a",(0,o.kt)("a",{parentName:"p",href:"https://docs.polygon.technology/zkEVM/architecture/"},"https://docs.polygon.technology/zkEVM/architecture/")),(0,o.kt)("p",null,"Hermes1.0\u662f\u4ee5\u592a\u574a\u7b2c\u4e00\u4e2a\u53bb\u4e2d\u5fc3\u5316\u7684zkRollup\uff0c\u4e8e2021\u5e743\u6708\u4e0a\u7ebf\uff0c\u53ef\u5b9e\u73b02000tps\uff0c\u8db3\u4ee5\u6ee1\u8db3ETH\u53caERC-20 token\u7684\u8f6c\u8d26\u5408\u7ea6\uff0cHermes1.0\u5e76\u4e0d\u662f\u4e0eEVM\u5b8c\u5168\u517c\u5bb9\u7684\u3002"),(0,o.kt)("p",null,"Hermes2.0\u7684\u5b9a\u4f4d\u662fzkEVM\uff0c\u76f8\u8f83\u4e8eHermes 1.0\uff0c Hermes 2.0\u6700\u4e3b\u8981\u7684\u529f\u80fd\u5c31\u662f\u63d0\u4f9b\u667a\u80fd\u5408\u7ea6\u7684\u652f\u6301\uff0cHermez 2.0 zkEVM\u4e0e\u4ee5\u592a\u574a\u4e3b\u7f51EVMs\u517c\u5bb9\u3002\u53ef\u5c06\u4ee5\u592a\u574a\u4e3b\u7f51\u7684\u667a\u80fd\u5408\u7ea6\u90e8\u7f72\u5728Polygon zkEVM\u4e2d\uff0c\u53ef\u5171\u7528\u4ee5\u592a\u574a\u73b0\u6709\u7684\u5f00\u53d1\u5de5\u5177\u548c\u5957\u4ef6\u3002"),(0,o.kt)("h2",{id:"polygon-zkevm\u6574\u4f53\u67b6\u6784"},"Polygon zkEVM\u6574\u4f53\u67b6\u6784"),(0,o.kt)("p",null,"\u5b98\u65b9\u67b6\u6784\u56fe\uff1a"),(0,o.kt)("p",null,(0,o.kt)("img",{src:l(398).Z,width:"874",height:"708"})),(0,o.kt)("p",null,"(\u611f\u89c9\u8fd9\u4e2a\u67b6\u6784\u56fe\u63cf\u8ff0\u4e0d\u662f\u7279\u522b\u6e05\u6670\uff0c\u53ea\u662f\u77e5\u9053\u6709\u54ea\u4e9b\u7ec4\u4ef6\uff0c\u7ec4\u4ef6\u4e4b\u95f4\u7684\u5c42\u6b21\u5e76\u4e0d\u662f\u5f88\u6e05\u6670)\u3002"),(0,o.kt)("p",null,"Polygon zkEVM\u4e2d\u5305\u542b\u7684\u4e3b\u8981\u7ec4\u4ef6\u6709\uff1a"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"\u5171\u8bc6\u5408\u7ea6\uff08POE\u5171\u8bc6\uff0cPolygonZkEVM.sol\uff09"),(0,o.kt)("li",{parentName:"ul"},"zkNode:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"\u540c\u6b65\u5668\uff08Synchronizer\uff09"),(0,o.kt)("li",{parentName:"ul"},"\u6392\u5e8f\u5668\uff08Sequencers\uff09"),(0,o.kt)("li",{parentName:"ul"},"\u805a\u5408\u5668\uff08Aggregators\uff09"),(0,o.kt)("li",{parentName:"ul"},"RPC"))),(0,o.kt)("li",{parentName:"ul"},"zk\u9a8c\u8bc1\u5668\uff08zkProver\uff09"),(0,o.kt)("li",{parentName:"ul"},"zkEVM Bridge\uff08\u8de8\u94fe\u6865\uff09")),(0,o.kt)("h2",{id:"zknode"},"zkNode"),(0,o.kt)("p",null,"zkNode\u662f\u8fd0\u884czkEvm\u8282\u70b9\u6240\u9700\u8981\u7684\u8f6f\u4ef6\uff0c\u5b83\u662f\u540c\u6b65\u5e76\u4e86\u89e3Polygon zkEVM\u72b6\u6001\u6240\u9700\u8981\u7684\u5ba2\u6237\u7aef\u3002"),(0,o.kt)("p",null,"\u6539\u53d8L2\u72b6\u6001\u53ca\u6700\u7ec8\u7ed3\u679c\u786e\u8ba4\u7684\u4e3b\u8981\u53c2\u4e0e\u8005\u662f\uff1a\u53d7\u4fe1\u4efb\u7684Sequencer\u548c\u53d7\u4fe1\u4efb\u7684Aggregator\u3002"),(0,o.kt)("h3",{id:"zknode\u67b6\u6784"},"zkNode\u67b6\u6784"),(0,o.kt)("p",null,"zkNode\u5b98\u65b9\u67b6\u6784\uff08\u6765\u81ea\uff1a",(0,o.kt)("a",{parentName:"p",href:"https://docs.polygon.technology/zkEVM/architecture/zknode/%E5%92%8Chttps://github.com/0xPolygonHermez/zkevm-node%EF%BC%89%EF%BC%9A"},"https://docs.polygon.technology/zkEVM/architecture/zknode/\u548chttps://github.com/0xPolygonHermez/zkevm-node\uff09\uff1a")),(0,o.kt)("p",null,(0,o.kt)("img",{src:l(2460).Z,width:"1800",height:"1000"})),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"polygon_zknode_architecture_02",src:l(8481).Z,width:"547",height:"858"})),(0,o.kt)("p",null,"\uff08\u4e0a\u56fe\u903b\u8f91\u770b\u7740\u4e0d\u662f\u5f88\u6e05\u6670\uff0c\u770b\u5b8c\u8fd8\u662f\u6709\u70b9\u4e0d\u592a\u7406\u89e3\u6d41\u7a0b\u6267\u884c\u987a\u5e8f\u662f\u4ec0\u4e48\uff09\u3002"),(0,o.kt)("p",null,"zkEVM\u7ec4\u4ef6\u5217\u8868\u5982\u4e0b\uff1a"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Pool DB\uff1a\u5b58\u50a8\u7528\u6237\u63d0\u4ea4\u7684\u4ea4\u6613\uff0c\u4ea4\u6613\u88ab\u4fdd\u5b58\u5728Pool\u4e2d\uff0c\u7b49\u5f85Sequencer\u5c06\u4ea4\u6613\u6253\u5305\u6210batch\u3002"),(0,o.kt)("li",{parentName:"ul"},"Sequencer\uff1a\u662f\u4e00\u4e2a\u8282\u70b9\uff0c\u8d1f\u8d23\u4ecePoolDb\u4e2d\u83b7\u53d6\u4ea4\u6613\uff0c\u68c0\u67e5\u4ea4\u6613\u662f\u5426\u6709\u6548\uff0c\u7136\u540e\u5c06\u6709\u6548\u4ea4\u6613\u6253\u5305\u6210batch\u3002Sequencer\u5c06\u6240\u6709\u7684batch\u63d0\u4ea4\u7ed9L1\uff0c\u7531L1\u5bf9batch\u8fdb\u884c\u6392\u5e8f\u3002\u8fd9\u6837\uff0c\u5df2\u6392\u5e8f\u7684batch\u65e7\u5305\u542b\u5728\u4e86L1\u7684\u72b6\u6001\u4e2d\u3002"),(0,o.kt)("li",{parentName:"ul"},"Aggregator\uff1a\u662f\u53e6\u5916\u4e00\u4e2a\u8282\u70b9\uff0c\u4eceL1\u4e2d\u83b7\u53d6\u5230batch\uff0c\u5e76\u4e3abatch\u751f\u6210\u8bc1\u660e\uff0c\u7136\u540e\u63d0\u4ea4\u5230L1\u8fdb\u884c\u6709\u6548\u6027\u9a8c\u8bc1\u3002"),(0,o.kt)("li",{parentName:"ul"},"Prover\uff1a\u7528\u4e8e\u4e3abatch\u8ba1\u7b97ZK\u8bc1\u660e\uff0c\u5e76\u5c06\u591a\u4e2abatch\u7684\u8bc1\u660e\u805a\u5408\u6210\u4e00\u4e2a\u8bc1\u660e\uff0c\u4f5c\u4e3a\u6709\u6548\u6027\u8bc1\u660e\u8fdb\u884c\u53d1\u5e03\u3002"),(0,o.kt)("li",{parentName:"ul"},"Synchronizer\uff1a\u901a\u8fc7Etherman\u4ece\u4ee5\u592a\u574a\u83b7\u53d6\u6570\u636e\u6765\u66f4\u65b0\u72b6\u6001\u6570\u636e\u5e93\u3002"),(0,o.kt)("li",{parentName:"ul"},"Etherman\u662f\u4e00\u4e2a\u4f4e\u7ea7\u7684\u7ec4\u4ef6\uff0c\u5b83\u5b9e\u73b0\u4e86\u4e0eL1\u7f51\u7edc\u548c\u667a\u80fd\u5408\u7ea6\u4ea4\u4e92\u7684\u65b9\u6cd5\u3002"),(0,o.kt)("li",{parentName:"ul"},"State DB\uff1a\u7528\u4e8e\u6301\u4e45\u5316\u5b58\u50a8\u72b6\u6001\u6570\u636e\uff08\u4e0d\u662fMerkle\u6811\uff09\u7684\u6570\u636e\u5e93\u3002")),(0,o.kt)("h3",{id:"zknode\u4e2d\u7684\u89d2\u8272"},"zkNode\u4e2d\u7684\u89d2\u8272"),(0,o.kt)("p",null,"\u6765\u81ea\uff1a",(0,o.kt)("a",{parentName:"p",href:"https://docs.polygon.technology/zkEVM/architecture/zknode/"},"https://docs.polygon.technology/zkEVM/architecture/zknode/")),(0,o.kt)("p",null,"zkNode\u8f6f\u4ef6\u652f\u6301\u591a\u79cd\u89d2\u8272\uff0c\u6bcf\u4e2a\u89d2\u8272\u9700\u8981\u4e0d\u540c\u7684\u670d\u52a1\u624d\u80fd\u8fdb\u884c\u5de5\u4f5c\uff0c\u5927\u591a\u6570\u7684\u670d\u52a1\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u5b9e\u4f8b\u4e2d\u8fd0\u884c\uff0c\u4f46\u662fJsonRpc\u53ef\u4ee5\u5728\u591a\u4e2a\u5b9e\u4f8b\u4e2d\u8fd0\u884c\u3002"),(0,o.kt)("h4",{id:"rpc-endpoints"},"RPC endpoints"),(0,o.kt)("p",null,"\u4efb\u4f55\u7528\u6237\u90fd\u53ef\u4ee5\u4f5c\u4e3a RPC \u8282\u70b9\u53c2\u4e0e\u6b64\u89d2\u8272\u3002"),(0,o.kt)("p",null,"\u6240\u9700\u7684\u670d\u52a1\u548c\u7ec4\u4ef6\uff1a"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"JSON RPC\uff1a\u53ef\u4ee5\u5728\u5355\u72ec\u7684\u5b9e\u4f8b\u4e0a\u8fd0\u884c\uff0c\u5e76\u4e14\u53ef\u4ee5\u6709\u591a\u4e2a\u5b9e\u4f8b\u3002"),(0,o.kt)("li",{parentName:"ul"},"\u540c\u6b65\u5668\uff1a\u53ef\u4ee5\u5728\u5355\u72ec\u7684\u5b9e\u4f8b\u4e0a\u8fd0\u884c\u7684\u5355\u4e2a\u5b9e\u4f8b\u3002"),(0,o.kt)("li",{parentName:"ul"},"Executor & Merkletree\uff1a\u53ef\u4ee5\u5728\u5355\u72ec\u7684\u5b9e\u4f8b\u4e0a\u8fd0\u884c\u7684\u670d\u52a1\u3002"),(0,o.kt)("li",{parentName:"ul"},"\u72b6\u6001\u6570\u636e\u5e93\uff1a\u53ef\u4ee5\u5728\u5355\u72ec\u7684\u5b9e\u4f8b\u4e0a\u8fd0\u884c\u7684 Postgres SQL\u3002")),(0,o.kt)("h4",{id:"trusted-sequencer"},"Trusted sequencer"),(0,o.kt)("p",null,"\u6b64\u89d2\u8272\u53ea\u80fd\u7531\u5355\u4e2a\u5b9e\u4f53\u6267\u884c\u3002\u8fd9\u662f\u5728\u667a\u80fd\u5408\u7ea6\u4e2d\u5f3a\u5236\u6267\u884c\u7684\uff0c\u56e0\u4e3a\u53ef\u4fe1\u6392\u5e8f\u5668\u7684\u76f8\u5173\u65b9\u6cd5\u53ea\u80fd\u7531\u7279\u5b9a\u79c1\u94a5\u7684\u6240\u6709\u8005\u6267\u884c\uff08\u8fd9\u4e2a\u8fd8\u6709\u70b9\u4e0d\u592a\u61c2\uff09\u3002"),(0,o.kt)("p",null,"\u6240\u9700\u7684\u670d\u52a1\u548c\u7ec4\u4ef6\uff1a"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"JSON RPC\uff1a\u53ef\u4ee5\u5728\u5355\u72ec\u7684\u5b9e\u4f8b\u4e0a\u8fd0\u884c\uff0c\u5e76\u4e14\u53ef\u4ee5\u6709\u591a\u4e2a\u5b9e\u4f8b\u3002"),(0,o.kt)("li",{parentName:"ul"},"Sequencer\u548cSynchronizer\uff1a\u9700\u8981\u5c06\u5b83\u4eec\u4e00\u8d77\u8fd0\u884c\u7684\u5355\u4e2a\u5b9e\u4f8b\u3002"),(0,o.kt)("li",{parentName:"ul"},"Executor & Merkletree\uff1a\u53ef\u4ee5\u5728\u5355\u72ec\u7684\u5b9e\u4f8b\u4e0a\u8fd0\u884c\u7684\u670d\u52a1\u3002"),(0,o.kt)("li",{parentName:"ul"},"Pool DB\uff1a\u53ef\u4ee5\u5728\u5355\u72ec\u7684\u5b9e\u4f8b\u4e0a\u8fd0\u884c\u7684 Postgres SQL\u3002"),(0,o.kt)("li",{parentName:"ul"},"State DB\uff1a\u53ef\u4ee5\u5728\u5355\u72ec\u7684\u5b9e\u4f8b\u4e0a\u8fd0\u884c\u7684 Postgres SQL\u3002")),(0,o.kt)("h4",{id:"aggregator"},"Aggregator"),(0,o.kt)("p",null,"\u8fd9\u4e2a\u89d2\u8272\u53ef\u4ee5\u7531\u4efb\u4f55\u4eba\u6765\u626e\u6f14\u3002"),(0,o.kt)("p",null,"\u6240\u9700\u7684\u670d\u52a1\u548c\u7ec4\u4ef6\uff1a"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Synchronizer\uff1a\u53ef\u4ee5\u5728\u5355\u72ec\u7684\u5b9e\u4f8b\u4e0a\u8fd0\u884c\u7684\u5355\u4e2a\u5b9e\u4f8b\u3002"),(0,o.kt)("li",{parentName:"ul"},"Executor & Merkletree\uff1a\u53ef\u4ee5\u5728\u5355\u72ec\u7684\u5b9e\u4f8b\u4e0a\u8fd0\u884c\u7684\u670d\u52a1\u3002"),(0,o.kt)("li",{parentName:"ul"},"State DB\uff1a\u53ef\u4ee5\u5728\u5355\u72ec\u7684\u5b9e\u4f8b\u4e0a\u8fd0\u884c\u7684 Postgres SQL\u3002"),(0,o.kt)("li",{parentName:"ul"},"Aggregator\uff1a\u53ef\u4ee5\u5728\u5355\u72ec\u7684\u5b9e\u4f8b\u4e0a\u8fd0\u884c\u7684\u5355\u4e2a\u5b9e\u4f8b\u3002"),(0,o.kt)("li",{parentName:"ul"},"Prover\uff1a\u53ef\u4ee5\u5728\u5355\u72ec\u7684\u5b9e\u4f8b\u4e0a\u8fd0\u884c\u7684\u5355\u4e2a\u5b9e\u4f8b\u3002"),(0,o.kt)("li",{parentName:"ul"},"Executor\uff1a\u53ef\u4ee5\u5728\u5355\u72ec\u7684\u5b9e\u4f8b\u4e0a\u8fd0\u884c\u7684\u5355\u4e2a\u5b9e\u4f8b\u3002")),(0,o.kt)("p",null,"\u5efa\u8bae\u8bc1\u660e\u8005\u5728\u5355\u72ec\u7684\u5b9e\u4f8b\u4e0a\u8fd0\u884c\uff0c\u56e0\u4e3a\u5b83\u6709\u91cd\u8981\u7684\u786c\u4ef6\u8981\u6c42\u3002"),(0,o.kt)("h3",{id:"\u7591\u95ee"},"\u7591\u95ee"),(0,o.kt)("h4",{id:"aggregator\u600e\u4e48\u83b7\u53d6batches"},"Aggregator\u600e\u4e48\u83b7\u53d6batches"),(0,o.kt)("p",null,"\u4e0d\u7406\u89e3\u7684\u95ee\u9898\uff0cAggregator\u600e\u4e48\u83b7\u53d6batches\u7684\uff1f\u662f\u4eceState\u76f4\u63a5\u83b7\u53d6\u7684\u6570\u636e\uff0c\u8fd8\u662f\u76f4\u63a5\u4eceL1\u83b7\u53d6\uff1f"),(0,o.kt)("p",null,"\u4e0a\u9762\u7684\u56fe\u4e2dAggregator\u662f\u76f4\u63a5\u4eceState\u4e2d\u83b7\u53d6\u7684Prover\u6240\u9700\u8981\u7684\u6570\u636e\u7684\uff0c\u4f46\u662f\u5b98\u65b9\u6709\u4e00\u5f20\u56fe\uff0c\u5982\u4e0b\uff08\u6765\u81ea\uff1a",(0,o.kt)("a",{parentName:"p",href:"https://docs.polygon.technology/zkEVM/architecture/protocol/state-management/#trustless-l2-state-management%EF%BC%89%EF%BC%9A"},"https://docs.polygon.technology/zkEVM/architecture/protocol/state-management/#trustless-l2-state-management\uff09\uff1a")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"polygon_01L2-overview-l2-state-management",src:l(6652).Z,width:"1800",height:"1000"})),(0,o.kt)("p",null,"Aggregator\u4eceL1\u7684PolygonZkEVM\u5408\u7ea6\u4e2d\u76f4\u63a5\u83b7\u53d6batches, \u7136\u540e\u5229\u7528Prover\u505a\u8bc1\u660e\u7684\u3002"),(0,o.kt)("p",null,"\u6240\u4ee5Aggregator\u600e\u4e48\u83b7\u53d6batches\u7684\uff1f\u662f\u4eceState\u76f4\u63a5\u83b7\u53d6\u7684\u6570\u636e\uff0c\u8fd8\u662f\u76f4\u63a5\u4eceL1\u83b7\u53d6\uff1f"),(0,o.kt)("p",null,"\u53ef\u80fd\u662f\u8fd9\u6837\u7684Aggregator\u6709\u81ea\u5df1\u7684Synchronizer\uff0c\u4e5f\u6709\u81ea\u5df1\u7684State\uff0cAggregator\u7684Synchronizer\u4eceL1\u62c9\u53d6batches\uff0c\u7136\u540e\u6751\u5b58\u50a8\u5728Aggregator\u7684Statedb\u4e2d\uff0cAggregator\u5728\u8ba1\u7b97ZK Proof\u65f6\uff0c\u5c31\u4f1a\u4eceState\u8bf7\u6c42\u83b7\u53d6prover\u6240\u9700\u8981\u7684\u6570\u636e\u3002"),(0,o.kt)("p",null,"\u56e0\u4e3aAggregator\u9700\u8981Synchronizer\u548cStateDB\uff0c\u53c2\u8003zkNode\u4e2d\u7684\u89d2\u8272\u3002"),(0,o.kt)("p",null,"\u90a3\u4e48Synchronizer\u548cState\u662fSequencer\u548cAggregator\u5171\u7528\u7684\u5417\uff1f\uff1f"),(0,o.kt)("p",null,"\u8fd9\u4e2a\u4e0d\u592a\u6e05\u695a\uff0czkNode\u4e2d\u7684\u89d2\u8272\u4e2d\u4ecb\u7ecd\u6709\uff0cAggregator\u9700\u8981Synchronizer\u548cStateDB\uff0c Sequencery\u8981\u6709\u81ea\u5df1\u7684ynchronizer\u548cStateDB\u3002"),(0,o.kt)("h3",{id:"\u4ea4\u6613\u6d41\u7a0b"},"\u4ea4\u6613\u6d41\u7a0b"),(0,o.kt)("p",null,"\u6839\u636e\u81ea\u5df1\u7684\u7406\u89e3\u753b\u7684\u56fe(State\u548cStateDB\u8fd9\u4e00\u5757\u8fd8\u4e0d\u662f\u5f88\u6e05\u695a)\uff0c \u6574\u4f53\u901a\u8fc7Synchronizer\u6765\u5c06\u5404\u4e2a\u6a21\u5757\u8fdb\u884c\u89e3\u8026\u5408\u3002"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"polygon_zkevm_main_process_01",src:l(4386).Z,width:"4204",height:"2012"})),(0,o.kt)("p",null,"\u5927\u6982\u6d41\u7a0b\uff1a"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"polygon_01L2-overview-l2-state-management",src:l(6652).Z,width:"1800",height:"1000"})),(0,o.kt)("p",null,"\u4e3b\u8981\u5206\u4e3a\u4e09\u4e2a\u6b65\u9aa4\uff1a"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Sequencer\u5c06\u591a\u4e2a\u7528\u6237\u7684\u4ea4\u6613\u6253\u5305\u6210Batch\u63d0\u4ea4\u5230L1\u7684\u5408\u7ea6\u4e0a\uff08Data Avaliability\uff09\u3002"),(0,o.kt)("li",{parentName:"ol"},"Prover\u4e3a\u6bcf\u7b14\u4ea4\u6613\u751f\u6210\u6709\u6548\u6027\u8bc1\u660e\uff08validity proof\uff09,\u5e76\u5c06\u591a\u4e2a\u4ea4\u6613\u7684\u6709\u6548\u6027\u8bc1\u660e\u805a\u5408\u6210\u4e00\u4e2a\u6709\u6548\u6027\u8bc1\u660e\u3002"),(0,o.kt)("li",{parentName:"ol"},"Aggregator\u63d0\u4ea4\u805a\u5408\u4e86\u591a\u4e2a\u4ea4\u6613\u7684\u6709\u6548\u6027\u8bc1\u660e\uff08validity proof\uff09\u5230L1\u7684\u5408\u7ea6\u4e0a\u3002")),(0,o.kt)("h4",{id:"sequencer\u5c06\u4ea4\u6613\u63d0\u4ea4\u5230l1"},"Sequencer\u5c06\u4ea4\u6613\u63d0\u4ea4\u5230L1"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"\u7528\u6237\u5c06\u4ea4\u6613\u53d1\u9001\u7ed9Sequencer\uff0cSequencer\u4f1a\u5728\u672c\u5730\u6309\u7167\u6536\u5230\u4ea4\u6613\u7684\u5feb\u6162\u987a\u5e8f\u8fdb\u884c\u5904\u7406(FRFS)\uff0c\u5f53Sequencer\u5728\u672c\u5730\u5c06\u4ea4\u6613\u6267\u884c\u6210\u529f\u4e4b\u540e\uff0c\u5982\u679c\u7528\u6237\u76f8\u4fe1Sequencer\u662f\u8bda\u5b9e\u7684\uff0c\u90a3\u4e48\u4ed6\u5c31\u53ef\u4ee5\u8ba4\u4e3a\u8fd9\u4e2a\u65f6\u5019\u7684\u4ea4\u6613\u5df2\u7ecf\u8fbe\u6210finality\u3002")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Sequencer\u4f1a\u5c06\u591a\u7b14\u4ea4\u6613\u6253\u5305\u8fdb\u4e00\u4e2aBatch\u91cc\u9762(\u76ee\u524d\u662f\u4e00\u4e2aBatch\u91cc\u9762\u53ea\u5305\u542b\u4e00\u4e2a\u4ea4\u6613)\uff0c\u7136\u540e\u6536\u96c6\u5230\u591a\u4e2aBatches\u4e4b\u540e\uff0c\u901a\u8fc7L1\u4e0a\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"PolygonZkEVM.sol"),"\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"sequenceBatch()"),"\u51fd\u6570\u5c06\u591a\u4e2aBatch\u4e00\u8d77\u53d1\u9001\u5230L1\u4ea4\u6613\u7684calldata\u4e0a\u3002")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"\u5f53",(0,o.kt)("inlineCode",{parentName:"p"},"PolygonZKEVM.sol"),"\u6536\u5230Sequencer\u63d0\u4f9b\u7684Batches\u540e\uff0c\u4f1a\u4f9d\u6b21\u5728\u5408\u7ea6\u5185\u8ba1\u7b97\u6bcf\u4e2aBatch\u7684\u54c8\u5e0c\uff0c\u7136\u540e\u5728\u540e\u4e00\u4e2aBatch\u91cc\u9762\u8bb0\u5f55\u524d\u4e00\u4e2aBatch\u7684\u54c8\u5e0c\uff08\u548cBlock\u7c7b\u4f3c\uff09,\u5982\u4e0b\u56fe\u3002")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Batch\u91cc\u9762\u7684\u4ea4\u6613\u4e5f\u662f\u786e\u5b9a\u7684\uff0c\u6240\u4ee5\u5f53Batch\u7684\u987a\u5e8f\u786e\u8ba4\u4e4b\u540e\uff0c\u6211\u4eec\u8ba4\u4e3a\u6240\u6709\u88ab\u5305\u542b\u5728Batch\u63d0\u4ea4\u5230L1\u7684PolygonZkEVM\u5408\u7ea6\u7684",(0,o.kt)("strong",{parentName:"p"},"\u4ea4\u6613\u7684\u987a\u5e8f\u90fd\u662f\u786e\u8ba4"),"\u7684\u3002"),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"polygon_sequencing_batches",src:l(5827).Z,width:"1800",height:"1000"})))),(0,o.kt)("p",null,(0,o.kt)("img",{src:l(6876).Z,width:"1800",height:"1000"})),(0,o.kt)("p",null,"\u6b64\u9636\u6bb5\uff0c\u5c06L1\u5145\u5f53Rollup DA\u5c42\u548c\u5b8c\u6210\u4ea4\u6613\u6392\u5e8f\u3002"),(0,o.kt)("h4",{id:"aggregator\u751f\u6210validity-proof"},"Aggregator\u751f\u6210validity proof"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"\u5f53Aggregator\u76d1\u542c\u5230L1\u7684",(0,o.kt)("inlineCode",{parentName:"li"},"PolygonZkEVM.sol"),"\u5408\u7ea6\u4e2d\u5df2\u7ecf\u6709\u65b0\u7684Batch\u88ab\u6210\u529f\u63d0\u4ea4\u540e\uff0c\u5b83\u4f1a\u628a\u8fd9\u4e9bBatch\u540c\u6b65\u5230\u81ea\u5df1\u7684\u8282\u70b9\u91cc\uff0c\u7136\u540e\u7ed9zkProver\u53d1\u9001\u8fd9\u4e9b\u4ea4\u6613\u3002"),(0,o.kt)("li",{parentName:"ol"},"zkProver\u63a5\u6536\u5230\u8fd9\u4e9b\u4ea4\u6613\u4e4b\u540e\u4f1a\u5e76\u884c\u7684\u4e3a\u6bcf\u7b14\u4ea4\u6613\u751f\u6210\u6709\u6548\u6027\u8bc1\u660e(validity proof)\uff0c\u7136\u540e\u518d\u5c06\u591a\u4e2aBatch\u5305\u542b\u7684\u4ea4\u6613\u7684validity proof\u518d\u805a\u5408\u6210\u4e00\u4e2a\u6709\u6548\u6027\u8bc1\u660e(validity proof)"),(0,o.kt)("li",{parentName:"ol"},"zkProver\u5c06\u805a\u5408\u591a\u4e2a\u4ea4\u6613\u7684validity proof\u53d1\u9001\u7ed9Aggregator")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"polygon_zkProv_arch",src:l(5560).Z,width:"1230",height:"700"})),(0,o.kt)("h4",{id:"aggregator\u63d0\u4ea4\u805a\u5408\u8bc1\u660e\u5230l1"},"Aggregator\u63d0\u4ea4\u805a\u5408\u8bc1\u660e\u5230L1"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Aggregator\u4f1a\u8bb2\u805a\u5408\u540e\u5230\u6709\u6548\u6027\u8bc1\u660e(validity proof)\u4ee5\u53ca\u5bf9\u5e94\u7684\u8fd9\u4e9bBatch\u6267\u884c\u540e\u7684\u72b6\u6001\u4e00\u8d77\u63d0\u4ea4\u5230L1\u7684",(0,o.kt)("inlineCode",{parentName:"li"},"PolygonZkevm.sol"),"\u5408\u7ea6\u5185\uff08\u8c03\u7528",(0,o.kt)("inlineCode",{parentName:"li"},"trustedVerifyBatches "),"\u65b9\u6cd5\uff09\u3002")),(0,o.kt)("h3",{id:"\u4e09\u79cdfinality"},"\u4e09\u79cdFinality"),(0,o.kt)("p",null,"\u53ef\u4ee5\u8ba4\u4e3a\u76ee\u524d\u6574\u4e2a\u7f51\u7edc\u5b58\u5728\u4e09\u79cd\u4e0d\u540c\u7a0b\u5ea6\u7684Finality\uff0c\u7ed9\u5b83\u4eec\u547d\u540d\u6210Sequencer Finality, DA Finality\u548cVerified Finality\u3002"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Sequecer Finality\uff0c\u4e5f\u5c06\u8fd9\u79cdFinality\u79f0\u4e3aSoft Finality,Polygon\u4e2d\u4e5f\u53eb\u505aSequenecer Finality\u66f4\u4e3a\u5408\u9002\uff0c\u56e0\u4e3a\u8fd9\u662fSingle Sequencer \u7ed9\u7684\u72b6\u6001\u627f\u8bfa\u3002"),(0,o.kt)("p",{parentName:"li"},"Sequencer\u63a5\u53d7\u5230\u7528\u6237\u4ea4\u6613\u4e4b\u540e\uff0c\u6267\u884c\u540e\u7ed9\u51fa\u7684\u72b6\u6001\uff0c\u8fd9\u662f\u6700\u4e0d\u5b89\u5168\u7684\u72b6\u6001\uff1b\u4f46\u662f\u5728\u76ee\u524d\u5b98\u65b9Single Sequencer\u7684\u573a\u666f\u4e0b\uff0c\u5374\u53ef\u4ee5\u5728\u4fdd\u8bc1\u5b89\u5168\u7684\u540c\u65f6\u5e26\u6765\u6781\u81f4\u7684\u7528\u6237\u4f53\u9a8c\u3002\u5728\u76ee\u524dSingle Sequencer\u7684Rollup\u7f51\u7edc\u4e2d\uff0c\u57fa\u672c\u4e0a\u90fd\u53ef\u4ee5\u4f53\u9a8c\u5230\u5373\u65f6\u786e\u8ba4\u7684\u5feb\u4e50\u3002\u4e0d\u8fc7\uff0cSingle Sequencer\u6700\u5927\u7684\u98ce\u9669\u5c31\u662fSequencer\u5b95\u673a\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u6574\u4e2aL2\u7f51\u7edc\u57fa\u672c\u762b\u75ea\uff0c\u4e0d\u8fc7\u7531\u4e8eDA\u5c42\u662f\u4f4d\u4e8e\u4ee5\u592a\u574a\u4e0a\u7684\uff0c\u4f9d\u7136\u53ef\u4ee5\u5728\u4e4b\u540e\u90e8\u5206\u6062\u590dL2\u7f51\u7edc\u5b95\u673a\u524d\u7684\u72b6\u6001\uff1b\u4e0d\u8fc7\u90a3\u90e8\u5206\u6765\u4e0d\u53ca\u53d1\u9001\u5230L1\u7684L2\u4ea4\u6613\u5c06\u65e0\u6cd5\u88ab\u6062\u590d\u3002")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"DA Finality\uff0c\u4ee3\u8868\u8fd9\u4e9b\u4ea4\u6613\u5df2\u7ecf\u88ab\u63d0\u4ea4\u5230L1\u7684DA\u5c42\u5408\u7ea6\u4e0a\uff0c\u6b64\u65f6\u4ea4\u6613\u987a\u5e8f\u4e5f\u88ab\u786e\u5b9a\u4e86\u3002"),(0,o.kt)("p",{parentName:"li"},"Trusted Sequencer\u5df2\u7ecf\u8c03\u7528",(0,o.kt)("inlineCode",{parentName:"p"},"sequenceBatch")," \u5c06\u4ea4\u6613\u53d1\u9001\u5230L1\u4e0a\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4ea4\u6613\u5df2\u7ecf\u88abDA\u5c42\u5305\u542b\uff1b\u5728Polygon\u7684\u8bbe\u8ba1\u4e2d, \u7531\u4e8eSingle Trusted Sequencer\u7684\u539f\u56e0\uff0c\u6240\u4ee5\u53ef\u4ee5\u786e\u4fdd\u4e0a\u4f20\u5230L1\u5408\u7ea6\u4e0a\u8fdb\u884cDA\u7684\u4ea4\u6613\u90fd\u662f\u6709\u6548\u4ea4\u6613\u3002\u6211\u4eec\u53ef\u4ee5\u8ba4\u4e3a\u5f53\u4e00\u7b14\u4ea4\u6613\u88abTrusted Sequencer \u4e0a\u4f20\u5230L1\u5408\u7ea6\u4e2d\u7684\u65f6\u5019, \u8fd9\u4e2a\u65f6\u5019\u5b83\u5df2\u7ecf\u88abrollup\u7f51\u7edc\u627f\u8ba4\u4e86\uff0c\u5e76\u4e14\u5728\u4e4b\u540eAggregator\u4f1a\u63d0\u4f9bvalidity proof\u8ba9\u8fd9\u7b14\u4ea4\u6613\u771f\u6b63\u65e0\u6cd5\u88abrevert(\u9664\u975eL1 reorg)\u3002")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Verified Finality\uff0c\u6307\u7684\u662f\u8fd9\u7b14\u4ea4\u6613\u5df2\u7ecf\u901a\u8fc7validity proof\u7684\u9a8c\u8bc1\u4e86\uff0c\u5c5e\u4e8e\u771f\u6b63\u7684Finality\uff0c\u4e5f\u53eb\u505aHard Finality\u3002"),(0,o.kt)("p",{parentName:"li"},"\u5f53Aggregator\u4e3a\u4e00\u6279\u4e0a\u4f20\u5230DA\u5c42\u7684\u4ea4\u6613\u63d0\u4f9b\u7684validity proof\u88ab\u5408\u7ea6\u9a8c\u8bc1\u901a\u8fc7\u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u8ba4\u4e3a\u8fd9\u4e9b\u4ea4\u6613\u5df2\u7ecf\u65e0\u6cd5\u88abrevert\u4e86(\u9664\u975eL1 reorg)\u3002\u76ee\u524d\u63d0\u4ea4\u5230DA\u5c42\u7684\u4ea4\u6613\u5230\u9a8c\u8bc1validity proof\u7684\u901a\u8fc7\u7684\u65f6\u95f4\u662f30\u5206\u949f\uff0c\u540c\u65f6Aggregator\u4e5f\u53ef\u4ee5\u901a\u8fc7\u63d0\u4f9bvalidity proof\u4ece\u800c\u83b7\u5f97\u8db3\u591f\u7684Matic\u62a5\u916c\u3002"))),(0,o.kt)("h2",{id:"\u8de8\u94fe"},"\u8de8\u94fe"),(0,o.kt)("p",null,"Polygon zkEVM\u5728L1\u548cL2\u4e0a\u5206\u522b\u7ef4\u62a4\u4e86\u4e00\u9897Exit Tree,  \u540d\u5b57\u5206\u522b\u4e3aL1 Exit Merkel tree\u548cL2 Exit Merkel tree\u3002\u4e3a\u4e86\u66f4\u597d\u7684\u7ba1\u7406\u8fd9\u4e24\u68f5\u6811\uff0cPolygon zkEVM\u628a\u8fd9\u4e24\u68f5\u6811\u7ed3\u5408\u5728\u4e86\u4e00\u8d77\uff0c\u5982\u4e0b\uff1a"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"img",src:l(6304).Z,width:"898",height:"359"})),(0,o.kt)("p",null,"\u5373\u628a L1 Exit Tree Root \u4f5c\u4e3a Global Exit Tree \u7684\u5de6\u53f6\u5b50\u8282\u70b9\uff0c\u628a L2 Exit Tree Root \u4f5c\u4e3a Global Exit Tree \u7684\u53f3\u53f6\u5b50\u8282\u70b9\u3002\u4e0d\u8fc7\u9700\u8981\u6ce8\u610f\u8fd9\u91cc L1 Tree Root \u548c L2 Tree Root \u662f Sparse Merkle Tree(SMT),\u800c Global Exit Tree \u662f Binary Merkle Tree\u3002"),(0,o.kt)("p",null,"\u5728 Polygon zkEVM \u7684\u5408\u7ea6\u8bbe\u8ba1\u4e2d\uff0c\u8fd8\u662f\u5c3d\u53ef\u80fd\u7684\u5c06 Bridge \u548c Consensus \u5408\u7ea6\u5c3d\u53ef\u80fd\u7684\u89e3\u8026\u3002\u76ee\u524d\u5176\u5728 L1 \u90e8\u7f72\u7684\u5408\u7ea6\u4e3b\u8981\u5206\u4e3a 3 \u4e2a\uff083\u4e2a\u5408\u7ea6\u662f\u72ec\u7acb\u7684\u6ca1\u6709\u7ee7\u627f\u5173\u7cfb\uff09\uff0c\u5982\u4e0b\u56fe\u6240\u793a:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"img",src:l(8884).Z,width:"898",height:"334"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"PolygonZkEVMBridge.sol\uff1a\u8de8\u94fe\u6865\u5408\u7ea6\uff0c\u5f53\u7528\u6237\u5728\u6e90\u94fe\u53d1\u8d77\u94fe\u4ea4\u6613\u65f6\uff0c\u4f1a\u8c03\u7528",(0,o.kt)("inlineCode",{parentName:"li"},"bridgeAsset()"),"\u65b9\u6cd5\uff0c\u6216\u8005\u5728\u76ee\u6807\u94fe\u8c03\u7528\u8be5\u5408\u7ea6\u7684",(0,o.kt)("inlineCode",{parentName:"li"},"claimAsset()"),"\u65b9\u6cd5\u83b7\u5f97\u5bf9\u5e94\u94fe\u7684\u8d44\u4ea7\u3002"),(0,o.kt)("li",{parentName:"ul"},"PolygonZkEVMGlobalExitRoot.sol: \u7528\u4e8e\u7ba1\u7406ExitTree\u7684\u5408\u7ea6\uff0cPolygonZkEVMBridge.sol\u548cPolygonZkEVM.sol\u90fd\u4f1a\u8c03\u7528PolygonZkEVMGlobalExitRoot.sol\u6765\u66f4\u65b0Global Exit Tree Root\u3002"),(0,o.kt)("li",{parentName:"ul"},"PolygonZkEVM.sol\uff1a\u5171\u8bc6\u5408\u7ea6\uff0c\u4e3b\u8981\u7528\u4e8e\u4e0a\u4f20Batch\u548c\u9a8c\u8bc1validity proof")),(0,o.kt)("h3",{id:"l1---l2"},"L1---\x3eL2"),(0,o.kt)("p",null,"L1\u5230L2\u7684\u8de8\u94fe\u6d41\u7a0b\u5bf9\u5e94\u4e0a\u56fe\u7684\u6a59\u8272\u8868\u793a\u3002"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"\u7528\u6237\u5148\u8c03\u7528\u90e8\u7f72\u5728L1\u4e0a\u7684PolygonZkEVMBridge.sol\u7684",(0,o.kt)("inlineCode",{parentName:"li"},"bridgeAsset()"),"\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u4f1a\u5c06\u5f53\u524d\u8de8\u94fe\u7684metadata\u6dfb\u52a0\u5230L1 Exit Tree\u4e2d\u5e76\u66f4\u65b0",(0,o.kt)("inlineCode",{parentName:"li"},"L1 Exit Tree Root"),"\u3002"),(0,o.kt)("li",{parentName:"ol"},"\u7136\u540e\u8c03\u7528\u66f4\u65b0PolygonZkEVMGlobalExitRoot.sol\u5408\u7ea6\u4e2d\u7684",(0,o.kt)("inlineCode",{parentName:"li"},"Global Exit Tree Root"),"\u3002"),(0,o.kt)("li",{parentName:"ol"},"L2\u6709\u4e00\u4e2aGlobal Exit Root Manager\u7684\u89d2\u8272\u76d1\u542c\u53d1\u73b0L1\u7684L1 Tree Root\u548cGlobal Exit Tree Root\u90fd\u66f4\u65b0\u4e4b\u540e\uff0c\u4f1a\u628a\u8fd9\u4e2a\u65b0\u7684Global Exit Tree Root\u66f4\u65b0\u5230L2\u7684zkEVM\u4e2d\u3002"),(0,o.kt)("li",{parentName:"ol"},"\u6b64\u65f6\u7528\u6237\u5c31\u53ef\u4ee5\u5728L2\u7684PolygonZkEVMBridge.sol\u5408\u7ea6\u4e2d\u8c03\u7528",(0,o.kt)("inlineCode",{parentName:"li"},"claimAsset()"),"\u65b9\u6cd5\u8fdb\u884c\u53d6\u6b3e(\u5408\u7ea6\u4f1a\u9a8c\u8bc1\u7528\u6237\u63d0\u4f9b\u7684Merkel Path\u662f\u5426\u548c\u5f53\u524d\u7684Tree Root\u5339\u914d)\u3002"),(0,o.kt)("li",{parentName:"ol"},"\u5c06\u4f1a\u5728\u4e0b\u6b21\u8c03\u7528PolygonZkEVM.sol\u65f6\u7684",(0,o.kt)("inlineCode",{parentName:"li"},"sequenceBatch()"),"\u65b9\u6cd5\u7684\u65f6\u5019\uff0c\u6bcf\u4e00\u4e2aBatch\u90fd\u9700\u8981\u4e00\u4e2a\u6709\u6548\u7684",(0,o.kt)("inlineCode",{parentName:"li"},"Global Exit Tree Root"),"\u6216\u8005\u4e00\u4e2a",(0,o.kt)("inlineCode",{parentName:"li"},"Empty Root"),"\uff0c\u5f53\u8fd9\u4e2a",(0,o.kt)("inlineCode",{parentName:"li"},"Global Exit Tree Root"),"\u7ed3\u5408\u540e\u7eed\u63d0\u4ea4\u7684",(0,o.kt)("inlineCode",{parentName:"li"},"validity proof"),"\u88ab\u9a8c\u8bc1\u901a\u8fc7\u7684\u65f6\u5019(\u8bc1\u660eGlobal Exit Root Manager\u540c\u6b65\u5230L2\u7684",(0,o.kt)("inlineCode",{parentName:"li"},"Global Exit Tree Root"),"\u662f\u6b63\u786e\u7684)\uff0c\u8fd9\u4e2a\u65f6\u5019\u624d\u53ef\u4ee5\u8ba4\u4e3a\u6574\u4e2a\u8de8\u94fe\u6d41\u7a0b\u5df2\u5b8c\u7ed3\u3002")),(0,o.kt)("h2",{id:"poeproof-0f-efficiency"},"POE(Proof-0f-Efficiency)"),(0,o.kt)("h2",{id:"\u6fc0\u52b1\u673a\u5236"},"\u6fc0\u52b1\u673a\u5236"),(0,o.kt)("h2",{id:"\u7591\u95ee-1"},"\u7591\u95ee\uff1a"),(0,o.kt)("p",null,"Single Sequencer\u548cTrusted Sequencer\uff1f"),(0,o.kt)("p",null,"StateDB?"),(0,o.kt)("h2",{id:"\u53c2\u8003"},"\u53c2\u8003"),(0,o.kt)("p",null,"\u5b98\u7f51\uff1a",(0,o.kt)("a",{parentName:"p",href:"https://docs.polygon.technology/zkEVM/architecture/"},"https://docs.polygon.technology/zkEVM/architecture/")),(0,o.kt)("p",null,"\u8be6\u89e3 Polygon zkEVM \u7684\u6574\u4f53\u67b6\u6784\u548c\u4ea4\u6613\u6267\u884c\u6d41\u7a0b: ",(0,o.kt)("a",{parentName:"p",href:"https://learnblockchain.cn/article/5636"},"https://learnblockchain.cn/article/5636")),(0,o.kt)("p",null,"\u6280\u672f\u8be6\u89e3 Polygon zkEVM Bridge \u548c Sequencer \u6846\u67b6: ",(0,o.kt)("a",{parentName:"p",href:"https://learnblockchain.cn/article/5487"},"https://learnblockchain.cn/article/5487")),(0,o.kt)("p",null,"\u89c6\u9891\uff1a",(0,o.kt)("a",{parentName:"p",href:"https://www.bilibili.com/video/BV1c24y1K7Kr/?spm_id_from=333.999.0.0&vd_source=fe3786828d0a7b2978993fb28bb81b78"},"https://www.bilibili.com/video/BV1c24y1K7Kr/?spm_id_from=333.999.0.0&vd_source=fe3786828d0a7b2978993fb28bb81b78")),(0,o.kt)("p",null,"Polygon zkEVM\u67b6\u6784: ",(0,o.kt)("a",{parentName:"p",href:"https://learnblockchain.cn/article/5487"},"https://learnblockchain.cn/article/5487")),(0,o.kt)("p",null,"CSDN\u5927\u4f6cPolygon\u89e3\u6790\u7cfb\u5217\uff1a",(0,o.kt)("a",{parentName:"p",href:"https://blog.csdn.net/mutourend/article/details/125971262"},"https://blog.csdn.net/mutourend/article/details/125971262")),(0,o.kt)("p",null,"zkNode: ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/0xPolygonHermez/zkevm-node"},"https://github.com/0xPolygonHermez/zkevm-node")))}u.isMDXComponent=!0},6652:(e,t,l)=>{l.d(t,{Z:()=>r});const r=l.p+"assets/images/polygon_01L2-overview-l2-state-management-351beb2cceeed72c2e107320699c7fcf.png"},6876:(e,t,l)=>{l.d(t,{Z:()=>r});const r=l.p+"assets/images/polygon_batch_chain_acc_hash-fbdfb56d416c2139a550290c5d4f1e20.png"},8884:(e,t,l)=>{l.d(t,{Z:()=>r});const r=l.p+"assets/images/polygon_bridge_2_contract-370bc8ece86ba7a68794eff60e2ea11d.png"},6304:(e,t,l)=>{l.d(t,{Z:()=>r});const r=l.p+"assets/images/polygon_global_exit_tree_root-e6668952ded0fd602c9df5a28302136d.png"},5827:(e,t,l)=>{l.d(t,{Z:()=>r});const r=l.p+"assets/images/polygon_sequencing_batches-1dab1f1078cda87b6cf43b333aedf43e.png"},5560:(e,t,l)=>{l.d(t,{Z:()=>r});const r=l.p+"assets/images/polygon_zkProv_arch-431fc1b9485b1ee5f6d038a5f7518865.png"},398:(e,t,l)=>{l.d(t,{Z:()=>r});const r=l.p+"assets/images/polygon_zkevm_architecture-53f12bf44ca54118789b5befd6d61402.png"},4386:(e,t,l)=>{l.d(t,{Z:()=>r});const r=l.p+"assets/images/polygon_zkevm_main_process_01-730ad97a8fe6259d17d43705e165b16f.png"},2460:(e,t,l)=>{l.d(t,{Z:()=>r});const r=l.p+"assets/images/polygon_zkevm_zknode-ea43a42d8c192e436163cd147433b603.png"},8481:(e,t,l)=>{l.d(t,{Z:()=>r});const r=l.p+"assets/images/polygon_zknode_architecture_02-cfde953e5f0fbecd97c83b1792f0c64c.png"}}]);