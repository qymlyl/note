"use strict";(self.webpackChunkstudy_note=self.webpackChunkstudy_note||[]).push([[930],{3905:(e,n,i)=>{i.d(n,{Zo:()=>s,kt:()=>d});var c=i(7294);function t(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function r(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);n&&(c=c.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,c)}return i}function l(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?r(Object(i),!0).forEach((function(n){t(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function o(e,n){if(null==e)return{};var i,c,t=function(e,n){if(null==e)return{};var i,c,t={},r=Object.keys(e);for(c=0;c<r.length;c++)i=r[c],n.indexOf(i)>=0||(t[i]=e[i]);return t}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)i=r[c],n.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(t[i]=e[i])}return t}var u=c.createContext({}),a=function(e){var n=c.useContext(u),i=n;return e&&(i="function"==typeof e?e(n):l(l({},n),e)),i},s=function(e){var n=a(e.components);return c.createElement(u.Provider,{value:n},e.children)},p="mdxType",g={inlineCode:"code",wrapper:function(e){var n=e.children;return c.createElement(c.Fragment,{},n)}},m=c.forwardRef((function(e,n){var i=e.components,t=e.mdxType,r=e.originalType,u=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),p=a(i),m=t,d=p["".concat(u,".").concat(m)]||p[m]||g[m]||r;return i?c.createElement(d,l(l({ref:n},s),{},{components:i})):c.createElement(d,l({ref:n},s))}));function d(e,n){var i=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var r=i.length,l=new Array(r);l[0]=m;var o={};for(var u in n)hasOwnProperty.call(n,u)&&(o[u]=n[u]);o.originalType=e,o[p]="string"==typeof e?e:t,l[1]=o;for(var a=2;a<r;a++)l[a]=i[a];return c.createElement.apply(null,l)}return c.createElement.apply(null,i)}m.displayName="MDXCreateElement"},8263:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>u,contentTitle:()=>l,default:()=>g,frontMatter:()=>r,metadata:()=>o,toc:()=>a});var c=i(7462),t=(i(7294),i(3905));const r={id:"build_riscv_toolchain_docker_img",title:"Dockerfile\u6784\u5efariscv-gnu-toolchain\u955c\u50cf"},l=void 0,o={unversionedId:"risc-v/build_riscv_toolchain_docker_img",id:"risc-v/build_riscv_toolchain_docker_img",title:"Dockerfile\u6784\u5efariscv-gnu-toolchain\u955c\u50cf",description:"elf-gcc",source:"@site/docs/risc-v/build_riscv_toolchain_docker_img.md",sourceDirName:"risc-v",slug:"/risc-v/build_riscv_toolchain_docker_img",permalink:"/note/risc-v/build_riscv_toolchain_docker_img",draft:!1,tags:[],version:"current",frontMatter:{id:"build_riscv_toolchain_docker_img",title:"Dockerfile\u6784\u5efariscv-gnu-toolchain\u955c\u50cf"},sidebar:"tutorialSidebar",previous:{title:"ubuntu\u5b89\u88c5riscv-gnu-toolchain",permalink:"/note/risc-v/ubuntu-install-riscv-gnu-toolchain"},next:{title:"\u5c0f\u5de5\u5177",permalink:"/note/rust/little-tools"}},u={},a=[{value:"elf-gcc",id:"elf-gcc",level:2},{value:"glibc-gcc",id:"glibc-gcc",level:2},{value:"musl-gcc",id:"musl-gcc",level:2},{value:"\u955c\u50cf\u538b\u7f29",id:"\u955c\u50cf\u538b\u7f29",level:2},{value:"\u542f\u52a8\u793a\u4f8b",id:"\u542f\u52a8\u793a\u4f8b",level:2},{value:"\u95ee\u9898",id:"\u95ee\u9898",level:2},{value:"\u955c\u50cf\u592a\u5927\u4e86",id:"\u955c\u50cf\u592a\u5927\u4e86",level:3},{value:"source: not found",id:"source-not-found",level:3},{value:"Dependency &quot;pixman-1&quot; not found",id:"dependency-pixman-1-not-found",level:3}],s={toc:a},p="wrapper";function g(e){let{components:n,...i}=e;return(0,t.kt)(p,(0,c.Z)({},s,i,{components:n,mdxType:"MDXLayout"}),(0,t.kt)("h2",{id:"elf-gcc"},"elf-gcc"),(0,t.kt)("p",null,"\u57fa\u4e8eubuntu 22.04\u6784\u5efa"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-dockerfile"},"# \u4f7f\u7528\u5b98\u65b9\u7684 Ubuntu 22.04 \u955c\u50cf\u4f5c\u4e3a\u57fa\u7840\u955c\u50cf\nFROM ubuntu:22.04\n\n# \u8bbe\u7f6e\u955c\u50cf\u7684\u7ef4\u62a4\u8005\u4fe1\u606f\nLABEL maintainer=\"qymlyl\"\n\n# \u7528\u6237\u9ed8\u8ba4\u662froot\uff0c\u76ee\u5f55\u9ed8\u8ba4\u662f/\uff0cWORKDIR\u8bbe\u7f6e\u9ed8\u8ba4\u7684\u5de5\u4f5c\u76ee\u5f55\nWORKDIR /opt/source\n\n# \u8fd0\u884c\u66f4\u65b0\u547d\u4ee4\u4ee5\u83b7\u53d6\u6700\u65b0\u7684\u8f6f\u4ef6\u5305\u5217\u8868\u5e76\u5b89\u88c5\u5fc5\u8981\u7684\u5de5\u5177\nRUN apt-get update && \\\n    apt-get upgrade -y && \\\n    apt-get install -y autoconf automake autotools-dev curl python3 python3-pip libmpc-dev libmpfr-dev libgmp-dev gawk build-essential bison flex texinfo gperf libtool patchutils bc zlib1g-dev libexpat-dev ninja-build git cmake libglib2.0-dev libpixman-1-0 libpixman-1-dev\n\n# clone riscv-gun-tool\u53ca\u5b50\u6a21\u5757\nRUN curl https://mirror.iscas.ac.cn/riscv-toolchains/git/riscv-collab/riscv-gnu-toolchain.sh | bash\n\n# \u7f16\u8bd1riscv-gnu-toolchain\n# --enable-multilib:\u6784\u5efa\u652f\u6301 32 \u4f4d\u548c 64 \u4f4d\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\nRUN cd riscv-gnu-toolchain && \\\n    ./configure --prefix=/opt/riscv --enable-multilib && \\\n    make -j$(nproc) && \\\n    make -j$(nproc) build-sim SIM=qemu QEMU_TARGETS=riscv64-linux-user,riscv32-linux-user,riscv64-softmmu,riscv32-softmmu\n      \n# \u8bbe\u7f6e RISCV\u53d8\u91cf\nRUN echo 'export RISCV=/opt/riscv' >> /etc/profile && \\\n    echo 'export PATH=$RISCV/bin:$PATH' >> /etc/profile && \\\n    /bin/bash -c 'source /etc/profile' && \\\n    echo 'export RISCV=/opt/riscv' >> ~/.bashrc && \\\n    echo 'export PATH=$RISCV/bin:$PATH' >> ~/.bashrc && \\\n    /bin/bash -c 'source ~/.bashrc'\n\n# \u5c06\u9ed8\u8ba4\u5de5\u4f5c\u76ee\u5f55\u8bbe\u7f6e\u5728/\nWORKDIR /\n\n# \u5220\u9664\u6e90\u7801\nRUN rm -rf /opt/source\n\n# \u5b9a\u4e49\u5bb9\u5668\u542f\u52a8\u65f6\u8fd0\u884c\u7684\u547d\u4ee4\nCMD [\"bash\"]\n")),(0,t.kt)("p",null,"\u6784\u5efa\u955c\u50cf"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"# \u6784\u5efa\u65b0\u7684\u7248\u672c\u65f6\u6ce8\u610f\u6e05\u9664\u6784\u5efa\u7f13\u5b58\ndocker builder prune\n")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"# -t \u9009\u9879\u7528\u4e8e\u6307\u5b9a\u955c\u50cf\u7684\u540d\u79f0\u548c\u6807\u7b7e\n# . \u8868\u793a Dockerfile \u6240\u5728\u7684\u5f53\u524d\u76ee\u5f55\u3002\n# \u57fa\u4e8eamd64 ubuntu22.04\u955c\u50cf\u6784\u5efa\u7684\u652f\u6301riscv64\u548criscv32\u4e24\u79cd\u67b6\u6784\u7684elf-gcc\u548cqemu\uff0c\u5bf9\u5e94\u5b98\u65b92023.10.18-nightly\u7248\u672c\nnohup docker build -t riscv-gnu-toolchain:riscv6432_elf_gcc_qemu_20231018_nightly_ubuntu2204_amd64 . &\n \n# \u57fa\u4e8earm64 ubuntu22.04\u955c\u50cf\u6784\u5efa\u7684\u652f\u6301riscv64\u548criscv32\u4e24\u79cd\u67b6\u6784\u7684elf-gcc\u548cqemu\uff0c\u5bf9\u5e94\u5b98\u65b92023.10.18-nightly\u7248\u672c\nnohup docker build -t riscv-gnu-toolchain:riscv6432_elf_gcc_qemu_20231018_nightly_ubuntu2204_arm64 . &\n")),(0,t.kt)("p",null,"\u955c\u50cf\u538b\u7f29"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"}," # \u6784\u5efa\u65e0\u6e90\u7801 arm64\n docker build -f ./Dockerfile_no_source \\\n -t riscv-gnu-toolchain:riscv6432_elf_gcc_qemu_20231018_nightly_ubuntu2204_arm64_no_source . \n \ndocker-squash riscv-gnu-toolchain:riscv6432_elf_gcc_qemu_20231018_nightly_ubuntu2204_arm64_no_source \\\n-t riscv-gnu-toolchain:riscv6432_elf_gcc_qemu_20231018_nightly_ubuntu2204_arm64_squashed\n\n# build remote\ndocker tag \\\nriscv-gnu-toolchain:riscv6432_elf_gcc_qemu_20231018_nightly_ubuntu2204_arm64_squashed \\\nmqylyl/riscv-gnu-toolchain:riscv6432_elf_gcc_qemu_20231018_nightly_ubuntu2204_arm64_squashed\n\ndocker push mqylyl/riscv-gnu-toolchain:riscv6432_elf_gcc_qemu_20231018_nightly_ubuntu2204_arm64_squashed\n")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"}," # \u6784\u5efa\u65e0\u6e90\u7801 amd64\n docker build -f ./Dockerfile_no_source \\\n -t riscv-gnu-toolchain:riscv6432_elf_gcc_qemu_20231018_nightly_ubuntu2204_amd64_no_source . \n \ndocker-squash riscv-gnu-toolchain:riscv6432_elf_gcc_qemu_20231018_nightly_ubuntu2204_amd64_no_source \\\n-t riscv-gnu-toolchain:riscv6432_elf_gcc_qemu_20231018_nightly_ubuntu2204_amd64_squashed\n\n# push\ndocker tag \\\nriscv-gnu-toolchain:riscv6432_elf_gcc_qemu_20231018_nightly_ubuntu2204_amd64_squashed \\\nmqylyl/riscv-gnu-toolchain:riscv6432_elf_gcc_qemu_20231018_nightly_ubuntu2204_amd64_squashed\n\ndocker push mqylyl/riscv-gnu-toolchain:riscv6432_elf_gcc_qemu_20231018_nightly_ubuntu2204_amd64_squashed\n")),(0,t.kt)("h2",{id:"glibc-gcc"},"glibc-gcc"),(0,t.kt)("p",null,"\u57fa\u4e8eubuntu 22.04\u6784\u5efa"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-dockerfile"},"# \u4f7f\u7528\u5b98\u65b9\u7684 Ubuntu 22.04 \u955c\u50cf\u4f5c\u4e3a\u57fa\u7840\u955c\u50cf\nFROM ubuntu:22.04\n\n# \u8bbe\u7f6e\u955c\u50cf\u7684\u7ef4\u62a4\u8005\u4fe1\u606f\nLABEL maintainer=\"qymlyl\"\n\n# \u7528\u6237\u9ed8\u8ba4\u662froot\uff0c\u76ee\u5f55\u9ed8\u8ba4\u662f/\uff0cWORKDIR\u8bbe\u7f6e\u9ed8\u8ba4\u7684\u5de5\u4f5c\u76ee\u5f55\nWORKDIR /opt/source\n\n# \u8fd0\u884c\u66f4\u65b0\u547d\u4ee4\u4ee5\u83b7\u53d6\u6700\u65b0\u7684\u8f6f\u4ef6\u5305\u5217\u8868\u5e76\u5b89\u88c5\u5fc5\u8981\u7684\u5de5\u5177\nRUN apt-get update && \\\n    apt-get upgrade -y && \\\n    apt-get install -y autoconf automake autotools-dev curl python3 python3-pip libmpc-dev libmpfr-dev libgmp-dev gawk build-essential bison flex texinfo gperf libtool patchutils bc zlib1g-dev libexpat-dev ninja-build git cmake libglib2.0-dev libpixman-1-0 libpixman-1-dev\n\n# clone riscv-gun-tool\u53ca\u5b50\u6a21\u5757\nRUN curl https://mirror.iscas.ac.cn/riscv-toolchains/git/riscv-collab/riscv-gnu-toolchain.sh | bash\n\n# \u7f16\u8bd1riscv-gnu-toolchain\n# --enable-multilib:\u6784\u5efa\u652f\u6301 32 \u4f4d\u548c 64 \u4f4d\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\nRUN cd riscv-gnu-toolchain && \\\n    ./configure --prefix=/opt/riscv --enable-multilib && \\\n    make linux -j$(nproc) && \\\n      make -j$(nproc) build-sim SIM=qemu QEMU_TARGETS=riscv64-linux-user,riscv32-linux-user,riscv64-softmmu,riscv32-softmmu\n\n# \u8bbe\u7f6e RISCV\u53d8\u91cf\nRUN echo 'export RISCV=/opt/riscv' >> /etc/profile && \\\n    echo 'export PATH=$RISCV/bin:$PATH' >> /etc/profile && \\\n    /bin/bash -c 'source /etc/profile' && \\\n    echo 'export RISCV=/opt/riscv' >> ~/.bashrc && \\\n    echo 'export PATH=$RISCV/bin:$PATH' >> ~/.bashrc && \\\n    /bin/bash -c 'source ~/.bashrc'\n\n# \u5c06\u9ed8\u8ba4\u5de5\u4f5c\u76ee\u5f55\u8bbe\u7f6e\u5728home\u76ee\u5f55\nWORKDIR /\n\n# \u5b9a\u4e49\u5bb9\u5668\u542f\u52a8\u65f6\u8fd0\u884c\u7684\u547d\u4ee4\nCMD [\"bash\"]\n")),(0,t.kt)("p",null,"\u6784\u5efa\u955c\u50cf"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"# \u6784\u5efa\u65b0\u7684\u7248\u672c\u65f6\u6ce8\u610f\u6e05\u9664\u6784\u5efa\u7f13\u5b58\ndocker builder prune\n")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"# -t \u9009\u9879\u7528\u4e8e\u6307\u5b9a\u955c\u50cf\u7684\u540d\u79f0\u548c\u6807\u7b7e\n# . \u8868\u793a Dockerfile \u6240\u5728\u7684\u5f53\u524d\u76ee\u5f55\u3002\n# \u57fa\u4e8eamd64 ubuntu22.04\u955c\u50cf\u6784\u5efa\u7684\u652f\u6301riscv64\u548criscv32\u4e24\u79cd\u67b6\u6784\u7684glibc-gcc\u548cqemu\uff0c\u5bf9\u5e94\u5b98\u65b92023.10.18-nightly\u7248\u672c\nnohup docker build -t riscv-gnu-toolchain:riscv6432_glibc_gcc_qemu_20231018_nightly_ubuntu2204_amd64 . &\n\n# \u57fa\u4e8earm64 ubuntu22.04\u955c\u50cf\u6784\u5efa\u7684\u652f\u6301riscv64\u548criscv32\u4e24\u79cd\u67b6\u6784\u7684glibc-gcc\u548cqemu\uff0c\u5bf9\u5e94\u5b98\u65b92023.10.18-nightly\u7248\u672c\nnohup docker build -t riscv-gnu-toolchain:riscv6432_glibc_gcc_qemu_20231018_nightly_ubuntu2204_arm64 . &\n")),(0,t.kt)("h2",{id:"musl-gcc"},"musl-gcc"),(0,t.kt)("p",null,"\u57fa\u4e8eubuntu 22.04\u6784\u5efa"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-dockerfile"},"# \u4f7f\u7528\u5b98\u65b9\u7684 Ubuntu 22.04 \u955c\u50cf\u4f5c\u4e3a\u57fa\u7840\u955c\u50cf\nFROM ubuntu:22.04\n\n# \u8bbe\u7f6e\u955c\u50cf\u7684\u7ef4\u62a4\u8005\u4fe1\u606f\nLABEL maintainer=\"qymlyl\"\n\n# \u7528\u6237\u9ed8\u8ba4\u662froot\uff0c\u76ee\u5f55\u9ed8\u8ba4\u662f/\uff0cWORKDIR\u8bbe\u7f6e\u9ed8\u8ba4\u7684\u5de5\u4f5c\u76ee\u5f55\nWORKDIR /opt/source\n\n# \u8fd0\u884c\u66f4\u65b0\u547d\u4ee4\u4ee5\u83b7\u53d6\u6700\u65b0\u7684\u8f6f\u4ef6\u5305\u5217\u8868\u5e76\u5b89\u88c5\u5fc5\u8981\u7684\u5de5\u5177\nRUN apt-get update && \\\n    apt-get upgrade -y && \\\n    apt-get install -y autoconf automake autotools-dev curl python3 python3-pip libmpc-dev libmpfr-dev libgmp-dev gawk build-essential bison flex texinfo gperf libtool patchutils bc zlib1g-dev libexpat-dev ninja-build git cmake libglib2.0-dev libpixman-1-0 libpixman-1-dev\n\n# clone riscv-gun-tool\u53ca\u5b50\u6a21\u5757\nRUN curl https://mirror.iscas.ac.cn/riscv-toolchains/git/riscv-collab/riscv-gnu-toolchain.sh | bash\n\n# \u7f16\u8bd1riscv-gnu-toolchain\n# --enable-multilib:\u6784\u5efa\u652f\u6301 32 \u4f4d\u548c 64 \u4f4d\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\uff08\u5bf9\u4e8emul\u5e76\u6ca1\u6709\u8d77\u4f5c\u7528\uff0cmul\u53ea\u652f\u630164\u4f4d\u67b6\u6784\uff09\nRUN cd riscv-gnu-toolchain && \\\n    ./configure --prefix=/opt/riscv --enable-multilib && \\\n    make musl -j$(nproc) && \\\n    make -j$(nproc) build-sim SIM=qemu QEMU_TARGETS=riscv64-linux-user,riscv32-linux-user,riscv64-softmmu,riscv32-softmmu\n\n# \u8bbe\u7f6e RISCV\u53d8\u91cf\nRUN echo 'export RISCV=/opt/riscv' >> /etc/profile && \\\n    echo 'export PATH=$RISCV/bin:$PATH' >> /etc/profile && \\\n    /bin/bash -c 'source /etc/profile' && \\\n    echo 'export RISCV=/opt/riscv' >> ~/.bashrc && \\\n    echo 'export PATH=$RISCV/bin:$PATH' >> ~/.bashrc && \\\n    /bin/bash -c 'source ~/.bashrc'\n\n# \u5c06\u9ed8\u8ba4\u5de5\u4f5c\u76ee\u5f55\u8bbe\u7f6e\u5728home\u76ee\u5f55\nWORKDIR /\n\n# \u5b9a\u4e49\u5bb9\u5668\u542f\u52a8\u65f6\u8fd0\u884c\u7684\u547d\u4ee4\nCMD [\"bash\"]\n")),(0,t.kt)("p",null,"\u6784\u5efa\u955c\u50cf"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"# \u6784\u5efa\u65b0\u7684\u7248\u672c\u65f6\u6ce8\u610f\u6e05\u9664\u6784\u5efa\u7f13\u5b58\ndocker builder prune\n")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"# -t \u9009\u9879\u7528\u4e8e\u6307\u5b9a\u955c\u50cf\u7684\u540d\u79f0\u548c\u6807\u7b7e\n# . \u8868\u793a Dockerfile \u6240\u5728\u7684\u5f53\u524d\u76ee\u5f55\u3002\n# \u57fa\u4e8eamd64 ubuntu22.04\u955c\u50cf\u6784\u5efa\u7684\u652f\u6301riscv64\u67b6\u6784\u7684glibc-gcc\u548cqemu(musl\u53ea\u652f\u630164\u4f4d\u7cfb\u7edf\u67b6\u6784)\uff0c\u5bf9\u5e94\u5b98\u65b92023.10.18-nightly\u7248\u672c\nnohup docker build -t riscv-gnu-toolchain:riscv6432_musl_gcc_qemu_20231018_nightly_ubuntu2204_amd64 . &\n\n# \u57fa\u4e8earm64 ubuntu22.04\u955c\u50cf\u6784\u5efa\u7684\u652f\u6301riscv64\u67b6\u6784\u7684glibc-gcc\u548cqemu(musl\u53ea\u652f\u630164\u4f4d\u7cfb\u7edf\u67b6\u6784)\uff0c\u5bf9\u5e94\u5b98\u65b92023.10.18-nightly\u7248\u672c\nnohup docker build -t riscv-gnu-toolchain:riscv6432_musl_gcc_qemu_20231018_nightly_ubuntu2204_arm64 . &\n")),(0,t.kt)("h2",{id:"\u955c\u50cf\u538b\u7f29"},"\u955c\u50cf\u538b\u7f29"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"docker-squash riscv-gnu-toolchain:riscv6432_elf_gcc_qemu_20231018_nightly_ubuntu2204_arm64 -t riscv-gnu-toolchain:riscv6432_elf_gcc_qemu_20231018_nightly_bin_ubuntu2204_arm64_squashed\n")),(0,t.kt)("h2",{id:"\u542f\u52a8\u793a\u4f8b"},"\u542f\u52a8\u793a\u4f8b"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"$ docker run --name riscv64_elf_gcc \\\n-itd  riscv-gnu-toolchain:riscv6432_elf_gcc_qemu_20231018_nightly_ubuntu2204_arm64_squashed\n\n$ docker exec -it riscv64_elf_gcc /bin/bash\n")),(0,t.kt)("h2",{id:"\u95ee\u9898"},"\u95ee\u9898"),(0,t.kt)("h3",{id:"\u955c\u50cf\u592a\u5927\u4e86"},"\u955c\u50cf\u592a\u5927\u4e86"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"$ docker images riscv-gnu-toolchain:riscv6432_elf_gcc_qemu_20231018_nightly_ubuntu2204_arm64\nREPOSITORY            TAG                                                        IMAGE ID       CREATED             SIZE\nriscv-gnu-toolchain   riscv6432_elf_gcc_qemu_20231018_nightly_ubuntu2204_arm64   e272d8d35157   About an hour ago   22.1GB\n")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},'$ docker history riscv-gnu-toolchain:riscv6432_elf_gcc_qemu_20231018_nightly_ubuntu2204_arm64\nIMAGE          CREATED             CREATED BY                                      SIZE      COMMENT\ne272d8d35157   About an hour ago   CMD ["bash"]                                    0B        buildkit.dockerfile.v0\n<missing>      About an hour ago   WORKDIR /                                       0B        buildkit.dockerfile.v0\n<missing>      About an hour ago   RUN /bin/sh -c echo \'export RISCV=/opt/riscv\u2026   3.79kB    buildkit.dockerfile.v0\n<missing>      About an hour ago   RUN /bin/sh -c cd riscv-gnu-toolchain &&    \u2026   12.1GB    buildkit.dockerfile.v0\n<missing>      7 hours ago         RUN /bin/sh -c curl https://mirror.iscas.ac.\u2026   9.42GB    buildkit.dockerfile.v0\n<missing>      9 hours ago         RUN /bin/sh -c apt-get update &&     apt-get\u2026   528MB     buildkit.dockerfile.v0\n<missing>      9 hours ago         WORKDIR /opt/source                             0B        buildkit.dockerfile.v0\n<missing>      9 hours ago         LABEL maintainer=qymlyl                         0B        buildkit.dockerfile.v0\n<missing>      3 weeks ago         /bin/sh -c #(nop)  CMD ["/bin/bash"]            0B        \n<missing>      3 weeks ago         /bin/sh -c #(nop) ADD file:f8594e26831508c31\u2026   69.2MB    \n<missing>      3 weeks ago         /bin/sh -c #(nop)  LABEL org.opencontainers.\u2026   0B        \n<missing>      3 weeks ago         /bin/sh -c #(nop)  LABEL org.opencontainers.\u2026   0B        \n<missing>      3 weeks ago         /bin/sh -c #(nop)  ARG LAUNCHPAD_BUILD_ARCH     0B        \n<missing>      3 weeks ago         /bin/sh -c #(nop)  ARG RELEASE                  0B \n')),(0,t.kt)("h3",{id:"source-not-found"},"source: not found"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"}," > [6/6] RUN echo 'export RISCV=/opt/riscv' >> /etc/profile &&     echo 'export PATH=$RISCV/bin:$PATH' >> /etc/profile &&     source /etc/profile &&     echo 'export RISCV=/opt/riscv' >> ~/.bashrc &&     echo 'export PATH=$RISCV/bin:$PATH' >> ~/.bashrc &&     source ~/.bashrc:\n0.296 /bin/sh: 1: source: not found\n------\n")),(0,t.kt)("p",null,"\u89e3\u51b3\u65b9\u6848\uff1a\u4f7f\u7528",(0,t.kt)("inlineCode",{parentName:"p"},"/bin/bash -c source")),(0,t.kt)("h3",{id:"dependency-pixman-1-not-found"},'Dependency "pixman-1" not found'),(0,t.kt)("p",null,"\u7f16\u8bd1Qemu\u65f6\u9047\u5230"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},'un-time dependency pixman-1 found: NO (tried pkgconfig)\n\n../qemu/meson.build:840:11: ERROR: Dependency "pixman-1" not found, tried pkgconfig\n\nA full log can be found at /home/parallels/Wokspace/study/riscv/riscv-gnu-toolchain/build-qemu/meson-logs/meson-log.txt\n\nERROR: meson setup failed\n\nmake: *** [Makefile:903: stamps/build-qemu] Error 1\n')),(0,t.kt)("p",null,"\u89e3\u51b3\u65b9\u6848\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"sudo apt-get install libpixman-1-0 libpixman-1-dev\n")))}g.isMDXComponent=!0}}]);